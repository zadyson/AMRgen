<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Import and Process AMRFinderPlus Results — import_amrfp • AMRgen</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Nunito-0.4.10/font.css" rel="stylesheet"><link href="../deps/Fira_Code-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Import and Process AMRFinderPlus Results — import_amrfp"><meta name="description" content="This function imports and processes AMRFinderPlus results, extracting antimicrobial resistance (AMR) elements and mapping them to standardised antibiotic names and drug classes. The function also converts gene symbols to a harmonised format and ensures compatibility with the AMR package."><meta property="og:description" content="This function imports and processes AMRFinderPlus results, extracting antimicrobial resistance (AMR) elements and mapping them to standardised antibiotic names and drug classes. The function also converts gene symbols to a harmonised format and ensures compatibility with the AMR package."><meta property="og:image" content="https://AMRverse.github.io/AMRgen/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">AMRgen</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Home</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-book-open"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/AnalysingGenoPhenoData.html"><span class="fa fa-book"></span> Vignettes</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/AMRverse/AMRgen"><span class="fa fab fa-github"></span> Source Code</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Import and Process AMRFinderPlus Results</h1>
      <small class="dont-index">Source: <a href="https://github.com/AMRverse/AMRgen/blob/main/R/import_amrfp.R" class="external-link"><code>R/import_amrfp.R</code></a></small>
      <div class="d-none name"><code>import_amrfp.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function imports and processes AMRFinderPlus results, extracting antimicrobial resistance (AMR) elements and mapping them to standardised antibiotic names and drug classes. The function also converts gene symbols to a harmonised format and ensures compatibility with the AMR package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">import_amrfp</span><span class="op">(</span></span>
<span>  <span class="va">input_table</span>,</span>
<span>  sample_col <span class="op">=</span> <span class="st">"Name"</span>,</span>
<span>  element_symbol_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  element_type_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  element_subtype_col <span class="op">=</span> <span class="st">"Element subtype"</span>,</span>
<span>  method_col <span class="op">=</span> <span class="st">"Method"</span>,</span>
<span>  node_col <span class="op">=</span> <span class="st">"Hierarchy node"</span>,</span>
<span>  subclass_col <span class="op">=</span> <span class="st">"Subclass"</span>,</span>
<span>  class_col <span class="op">=</span> <span class="st">"Class"</span>,</span>
<span>  amrfp_drugs <span class="op">=</span> <span class="va">amrfp_drugs_table</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-input-table">input_table<a class="anchor" aria-label="anchor" href="#arg-input-table"></a></dt>
<dd><p>A character string specifying a dataframe or path to the AMRFinderPlus results table (TSV format).</p></dd>


<dt id="arg-sample-col">sample_col<a class="anchor" aria-label="anchor" href="#arg-sample-col"></a></dt>
<dd><p>A character string specifying the column that identifies samples in the dataset (default <code>Name</code>).</p></dd>


<dt id="arg-element-symbol-col">element_symbol_col<a class="anchor" aria-label="anchor" href="#arg-element-symbol-col"></a></dt>
<dd><p>Optional character string specifying the column containing gene or element symbols if non-standard column names are used.</p></dd>


<dt id="arg-element-type-col">element_type_col<a class="anchor" aria-label="anchor" href="#arg-element-type-col"></a></dt>
<dd><p>Optional character string specifying the column indicating element type (e.g. AMR).</p></dd>


<dt id="arg-element-subtype-col">element_subtype_col<a class="anchor" aria-label="anchor" href="#arg-element-subtype-col"></a></dt>
<dd><p>Character string specifying the column used to detect mutation subtypes.</p></dd>


<dt id="arg-method-col">method_col<a class="anchor" aria-label="anchor" href="#arg-method-col"></a></dt>
<dd><p>Character string specifying the AMRFinderPlus method column.</p></dd>


<dt id="arg-node-col">node_col<a class="anchor" aria-label="anchor" href="#arg-node-col"></a></dt>
<dd><p>Character string specifying the hierarchy node column.</p></dd>


<dt id="arg-subclass-col">subclass_col<a class="anchor" aria-label="anchor" href="#arg-subclass-col"></a></dt>
<dd><p>Character string specifying the AMRFinderPlus subclass column.</p></dd>


<dt id="arg-class-col">class_col<a class="anchor" aria-label="anchor" href="#arg-class-col"></a></dt>
<dd><p>Character string specifying the AMRFinderPlus class column.</p></dd>


<dt id="arg-amrfp-drugs">amrfp_drugs<a class="anchor" aria-label="anchor" href="#arg-amrfp-drugs"></a></dt>
<dd><p>A tibble containing a reference table mapping AMRFinderPlus subclasses (<code>AFP_Subclass</code>) to standardised drug agents (<code>drug_agent</code>) and drug classes (<code>drug_class</code>). Defaults to <code>amrfp_drugs_table</code>, which is provided internally.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble containing the processed AMR elements, with harmonised gene names, mapped drug agents, and drug classes. The output retains the original columns from the AMRFinderPlus table along with the newly mapped variables.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function performs the following steps:</p><ul><li><p>Reads the AMRFinderPlus output table.</p></li>
<li><p>Filters the data to only include AMR elements.</p></li>
<li><p>Converts gene symbols to a harmonised format.</p></li>
<li><p>Splits multiple subclass annotations into separate rows.</p></li>
<li><p>Maps AMRFinderPlus subclasses to standardised drug agent and drug class names using <code>amrfp_drugs</code>.</p></li>
<li><p>Converts drug agent names to the <code>"ab"</code> class from the AMR package.
This processing ensures compatibility with downstream AMR analysis workflows.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># small example E. coli AMRFinderPlus data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ecoli_geno_raw</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ecoli_geno_raw</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># import first few rows of this data frame and parse it as AMRfp data</span></span></span>
<span class="r-in"><span><span class="va">geno</span> <span class="op">&lt;-</span> <span class="fu">import_amrfp</span><span class="op">(</span><span class="va">ecoli_geno_raw</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, <span class="st">"Name"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">geno</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Free and Open Source (GPL-3), brought by AMRverse/AMRgen Development Team</p>
</div>

<div class="pkgdown-footer-right">
  <p>Our goal is to develop interpretive standards for AMR genotypes, akin to the interpretive standards developed by EUCAST and CLSI for antimicrobial susceptibility phenotyping.</p>
</div>

    </footer></div>





  </body></html>

